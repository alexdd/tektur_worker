<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_1026m6m" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="3.4.1">
  <bpmn:collaboration id="Collaboration_0nrr462">
    <bpmn:participant id="Participant_1junhp7" processRef="Python_Task_test" />
  </bpmn:collaboration>
  <bpmn:process id="Python_Task_test" isExecutable="true">
    <bpmn:startEvent id="StartEvent_1">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="FormField_17v1h1h" label="objects" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:outgoing>SequenceFlow_11pbjwo</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:serviceTask id="Task_189cez4" name="zip test" camunda:modelerTemplate="tektur.zip" camunda:asyncBefore="true" camunda:asyncAfter="true" camunda:type="external" camunda:topic="file_zip">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="zipFilename">test.zip</camunda:inputParameter>
          <camunda:inputParameter name="inputFilenames">test1.txt test2.txt</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0sezr3j</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0443xe2</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Task_11hfgpc" name="unzip test" camunda:modelerTemplate="tektur.unzip" camunda:asyncBefore="true" camunda:asyncAfter="true" camunda:type="external" camunda:topic="file_unzip">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="zipFilename">test.zip</camunda:inputParameter>
          <camunda:inputParameter name="outputFolder">unzip_result</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0443xe2</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_16dd2hz</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Task_0nklhm1" name="mail test" camunda:modelerTemplate="tektur.mail" camunda:asyncBefore="true" camunda:asyncAfter="true" camunda:type="external" camunda:topic="send_mail">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="to">tekturcmsgmail.com</camunda:inputParameter>
          <camunda:inputParameter name="subject">task executor test</camunda:inputParameter>
          <camunda:inputParameter name="body">Das ist ein Test</camunda:inputParameter>
          <camunda:inputParameter name="attachment">attachment.zip</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0snbmdk</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0yntfzm</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Task_1x2a34e" name="xslt test" camunda:modelerTemplate="tektur.xslt" camunda:asyncBefore="true" camunda:asyncAfter="true" camunda:type="external" camunda:topic="transform_xml">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="xslt">bla bla bla</camunda:inputParameter>
          <camunda:inputParameter name="xslt-file">myxslt.xsl</camunda:inputParameter>
          <camunda:inputParameter name="source-file">source.xml</camunda:inputParameter>
          <camunda:inputParameter name="initial-template">main</camunda:inputParameter>
          <camunda:inputParameter name="destination-file">result.xml</camunda:inputParameter>
          <camunda:inputParameter name="destination-serialization-method">text</camunda:inputParameter>
          <camunda:inputParameter name="parameters">
            <camunda:map>
              <camunda:entry key="param1">blub.txt</camunda:entry>
              <camunda:entry key="param2">bla.txt</camunda:entry>
            </camunda:map>
          </camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_16dd2hz</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0snbmdk</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Task_0gi8sud" name="http request" camunda:modelerTemplate="tektur.http-request" camunda:asyncBefore="true" camunda:asyncAfter="true" camunda:type="external" camunda:topic="http_request">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="method">get</camunda:inputParameter>
          <camunda:inputParameter name="queryParameters">
            <camunda:map>
              <camunda:entry key="key1">v1</camunda:entry>
              <camunda:entry key="key2">v2</camunda:entry>
            </camunda:map>
          </camunda:inputParameter>
          <camunda:inputParameter name="contentType">text/plain</camunda:inputParameter>
          <camunda:inputParameter name="host">localhost</camunda:inputParameter>
          <camunda:inputParameter name="port">9999</camunda:inputParameter>
          <camunda:inputParameter name="endpoint">/test</camunda:inputParameter>
          <camunda:inputParameter name="requestBody">bla</camunda:inputParameter>
          <camunda:inputParameter name="requestBodyFilename">blafname</camunda:inputParameter>
          <camunda:inputParameter name="responseBodyFilename">respfname</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0yntfzm</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_08kd3ul</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Task_0n1qmv1" name="exist load" camunda:modelerTemplate="tektur.exist-load" camunda:asyncBefore="true" camunda:asyncAfter="true" camunda:type="external" camunda:topic="exist_load">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="inputFolder">input-folder</camunda:inputParameter>
          <camunda:inputParameter name="dbPath">/db/test</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_08kd3ul</bpmn:incoming>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_08kd3ul" sourceRef="Task_0gi8sud" targetRef="Task_0n1qmv1" />
    <bpmn:sequenceFlow id="SequenceFlow_0yntfzm" sourceRef="Task_0nklhm1" targetRef="Task_0gi8sud" />
    <bpmn:sequenceFlow id="SequenceFlow_16dd2hz" sourceRef="Task_11hfgpc" targetRef="Task_1x2a34e" />
    <bpmn:sequenceFlow id="SequenceFlow_0443xe2" sourceRef="Task_189cez4" targetRef="Task_11hfgpc" />
    <bpmn:sequenceFlow id="SequenceFlow_0sezr3j" sourceRef="Task_1gmk17f" targetRef="Task_189cez4" />
    <bpmn:sequenceFlow id="SequenceFlow_11pbjwo" sourceRef="StartEvent_1" targetRef="Task_04c2w9l" />
    <bpmn:sequenceFlow id="SequenceFlow_0snbmdk" sourceRef="Task_1x2a34e" targetRef="Task_0nklhm1" />
    <bpmn:serviceTask id="Task_1gmk17f" name="s3 put" camunda:modelerTemplate="tektur.s3-put" camunda:asyncBefore="true" camunda:asyncAfter="true" camunda:type="external" camunda:topic="s3_put">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="bucket">my-bucket</camunda:inputParameter>
          <camunda:inputParameter name="key">my-key</camunda:inputParameter>
          <camunda:inputParameter name="filename">my-fname</camunda:inputParameter>
          <camunda:inputParameter name="profile">my-profile</camunda:inputParameter>
          <camunda:inputParameter name="url">my-url</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:outgoing>SequenceFlow_0sezr3j</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1va1iex" sourceRef="Task_04c2w9l" targetRef="Task_0mapra3" />
    <bpmn:serviceTask id="Task_04c2w9l" name="s3 list" camunda:modelerTemplate="tektur.s3-list" camunda:asyncBefore="true" camunda:asyncAfter="true" camunda:type="external" camunda:topic="s3_list">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="bucket">tektur</camunda:inputParameter>
          <camunda:inputParameter name="key">^([a-zA-Z0-9\s_\\.\-\(\):])+\.(zip|tar)$</camunda:inputParameter>
          <camunda:outputParameter name="objects">${ objects }</camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_11pbjwo</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1va1iex</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="EndEvent_02b8ak9">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="objects" />
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0rfue1p</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0rfue1p" sourceRef="Task_0mapra3" targetRef="EndEvent_02b8ak9" />
    <bpmn:userTask id="Task_0mapra3" name="user">
      <bpmn:incoming>SequenceFlow_1va1iex</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0rfue1p</bpmn:outgoing>
    </bpmn:userTask>
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_0nrr462">
      <bpmndi:BPMNShape id="Participant_1junhp7_di" bpmnElement="Participant_1junhp7" isHorizontal="true">
        <dc:Bounds x="161" y="84" width="790" height="410" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="212" y="129" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0bahfto_di" bpmnElement="Task_189cez4">
        <dc:Bounds x="820" y="107" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_05iyux7_di" bpmnElement="Task_11hfgpc">
        <dc:Bounds x="830" y="260" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1ws0619_di" bpmnElement="Task_0nklhm1">
        <dc:Bounds x="480" y="250" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1f0nn23_di" bpmnElement="Task_1x2a34e">
        <dc:Bounds x="650" y="250" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1648twe_di" bpmnElement="Task_1gmk17f">
        <dc:Bounds x="720" y="150" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1d918jr_di" bpmnElement="Task_0gi8sud">
        <dc:Bounds x="330" y="250" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1nvk47n_di" bpmnElement="Task_0n1qmv1">
        <dc:Bounds x="330" y="390" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_08kd3ul_di" bpmnElement="SequenceFlow_08kd3ul">
        <di:waypoint x="380" y="330" />
        <di:waypoint x="380" y="390" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0yntfzm_di" bpmnElement="SequenceFlow_0yntfzm">
        <di:waypoint x="480" y="290" />
        <di:waypoint x="430" y="290" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_16dd2hz_di" bpmnElement="SequenceFlow_16dd2hz">
        <di:waypoint x="830" y="300" />
        <di:waypoint x="790" y="300" />
        <di:waypoint x="790" y="290" />
        <di:waypoint x="750" y="290" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0443xe2_di" bpmnElement="SequenceFlow_0443xe2">
        <di:waypoint x="870" y="187" />
        <di:waypoint x="870" y="224" />
        <di:waypoint x="880" y="224" />
        <di:waypoint x="880" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0sezr3j_di" bpmnElement="SequenceFlow_0sezr3j">
        <di:waypoint x="770" y="150" />
        <di:waypoint x="770" y="87" />
        <di:waypoint x="870" y="87" />
        <di:waypoint x="870" y="107" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_11pbjwo_di" bpmnElement="SequenceFlow_11pbjwo">
        <di:waypoint x="248" y="147" />
        <di:waypoint x="330" y="147" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0snbmdk_di" bpmnElement="SequenceFlow_0snbmdk">
        <di:waypoint x="650" y="290" />
        <di:waypoint x="580" y="290" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0hu29ne_di" bpmnElement="Task_04c2w9l">
        <dc:Bounds x="330" y="107" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_02b8ak9_di" bpmnElement="EndEvent_02b8ak9">
        <dc:Bounds x="592" y="129" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1va1iex_di" bpmnElement="SequenceFlow_1va1iex">
        <di:waypoint x="430" y="147" />
        <di:waypoint x="460" y="147" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0rfue1p_di" bpmnElement="SequenceFlow_0rfue1p">
        <di:waypoint x="560" y="147" />
        <di:waypoint x="592" y="147" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_14hc7gt_di" bpmnElement="Task_0mapra3">
        <dc:Bounds x="460" y="107" width="100" height="80" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
